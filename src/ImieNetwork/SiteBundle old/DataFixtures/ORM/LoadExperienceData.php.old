<?php
namespace ImieNetwork\SiteBundle\DataFixtures\ORM;
 
use Doctrine\Common\Persistence\ObjectManager;
use Doctrine\Common\DataFixtures\AbstractFixture;
use Doctrine\Common\DataFixtures\OrderedFixtureInterface;
use ImieNetwork\SiteBundle\Entity\Experience;
 
class LoadExperienceData extends AbstractFixture implements OrderedFixtureInterface
{
    public function load(ObjectManager $em)
    {
        $first_experience = new Experience();
        $first_experience->setLibelle('first experience');
        $first_experience->setDateDebut(new \DateTime('2014-01-01'));
        $first_experience->setDateFin(new \DateTime('2014-02-02'));
        $first_experience->setDescription('première expérience saisie');
        $first_experience->setUtilisateur(NULL);
        
        $em->persist($first_experience);
        
        $em->flush();
        
        $this->addReference('first-experience', $first_experience);
    
    /*$design = new Category();
    $design->setName('Design');
    
    $programming = new Category();
    $programming->setName('Programming');
    
    $manager = new Category();
    $manager->setName('Manager');
    
    $administrator = new Category();
    $administrator->setName('Administrator');
    
    $em->persist($design);
    $em->persist($programming);
    $em->persist($manager);
    $em->persist($administrator);
    
    $em->flush();
    
    $this->addReference('category-design', $design);
    $this->addReference('category-programming', $programming);
    $this->addReference('category-manager', $manager);
    $this->addReference('category-administrator', $administrator);*/
    }
    
    public function getOrder()
    {
        return 1; // the order in which fixtures will be loaded
    }
}